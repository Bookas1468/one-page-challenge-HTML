<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

  <style>
    div{
      font-family:"papyrus";
      font-size:x-large;
      font-weight: bold;
    }
    .key-button{
      margin: 2px;
      width: 40px;
      height: 40px;
      display: inline-flex;
      justify-content: center;
      background-color: rgb(251, 212, 255);
      filter: drop-shadow(1px 1px 2px rgb(0, 0, 0));
    }
    .keyboard-row keyboard-row {
        display: flex;
        justify-content: center;
        margin-bottom: 5px;
    }
    .keyboard{
      background-color: rgb(189, 221, 248);
    }
    .enemy{
      background-color:white;
      height:10%;
      width:10%;
      display:flex;
      align-items:center;
      justify-content:center;
      margin:1%;
      transition: background-color 5s;
    }
    
    .mainzone{
      background-color: grey;
      height: 85vh;
    }
  </style>
  </head>
<body>
<div class="full">
  <div class="container-fluid mainzone row mx-auto">
    
  </div> 
  <div class="container-fluid text-center keyboard row mx-auto " >
    <div class="row keyboard-row mx-auto"style="top:90px;">
      <div class="col key-button">
        q
      </div>
      <div class="col key-button">
        w
      </div>
      <div class="col key-button">
        e
      </div>
      <div class="col key-button">
        r
      </div>
      <div class="col key-button">
        t
      </div>
      <div class="col key-button">
        y
      </div>
      <div class="col key-button">
        u
      </div>
      <div class="col key-button">
        i
      </div>
      <div class="col key-button">
        o
      </div>
      <div class="col key-button">
        p
      </div>
    </div>
    <div class="row keyboard-row mx-auto">
      <div class="col key-button">
        a
      </div>
      <div class="col key-button">
        s
      </div>
      <div class="col key-button">
        d
      </div>
      <div class="col key-button">
        f
      </div>
      <div class="col key-button">
        g
      </div>
      <div class="col key-button">
        h
      </div>
      <div class="col key-button">
        j
      </div>
      <div class="col key-button">
        k
      </div>
      <div class="col key-button">
        l
      </div>
    </div>
    <div class="row keyboard-row mx-auto">
      <div class="col key-button">
        z
      </div>
      <div class="col key-button">
        x
      </div>
      <div class="col key-button">
        c
      </div>
      <div class="col key-button">
        v
      </div>
      <div class="col key-button">
        b
      </div>
      <div class="col key-button">
        n
      </div>
      <div class="col key-button">
        m
      </div>
    </div>
  </div>
</div>
<script>
  $('.key-button').on("click", function() {
    keyPressed($(this).html());
});
$(document).keydown(function(event) {
  keyPressed(event.key);
});


  function keyPressed(key){
    //alert(key);
    summonText()
  }
  function summonText(){
    const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const randomIndex = Math.floor(Math.random() * characters.length);
    
    let summonedText = document.createElement("div");
    summonedText.classList.toggle("enemy");
    summonedText.classList.add("col-2","text-center", "rounded");
    
const container = document.getElementsByClassName("mainzone")[0];
    if (container) {
        container.appendChild(summonedText);
    } else {
        console.error("Error!");
    }
    
    summonedText.innerHTML=characters.charAt(randomIndex);
    let $summoned = summonedText;
    //$summoned.animate({backgroundColor:'black'},5000,function()
    //{
    //  console.log("test");
   //   $(this).remove();
   // });
    summonedText.animate(
      [
        {backgroundColor:"white",color:'black'},
        {backgroundColor:"red",color:'white'}
      ],
      {
        duration:5000,
        easing:'linear',
        fill:"forwards"
      }
    );
    


    setTimeout(function() {
        if (summonedText.parentNode) {
            summonedText.parentNode.removeChild(summonedText);
        }
    }, 5000);
    
  }
  
</script>

</body>
</html>
